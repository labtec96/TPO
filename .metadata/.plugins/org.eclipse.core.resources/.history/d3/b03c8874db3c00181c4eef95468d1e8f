package zad1;

import java.io.BufferedReader;
import java.io.BufferedWriter;
import java.io.IOException;
import java.io.InputStream;
import java.io.InputStreamReader;
import java.io.OutputStream;
import java.io.OutputStreamWriter;
import java.net.ServerSocket;
import java.net.Socket;

public class ServerDictionary extends Thread
{

	String symbol;
	Integer port;
	ServerSocket welcomeSocket;
	public ServerDictionary(String symbol, Integer port)
	{
		this.symbol = symbol;
		this.port = port;
	}
	
	public void run()
	{
		try
		{
			welcomeSocket = new ServerSocket(port);
			while (true)
			{
				Socket universalSocket = welcomeSocket.accept();
				System.out.println("Polaczono do Serwera Jezykowego");
				
				InputStream sis = universalSocket.getInputStream();
        		InputStreamReader isr = new InputStreamReader(sis);	
        		BufferedReader br = new BufferedReader(isr);
        		
        		OutputStream sos = universalSocket.getOutputStream();
        		OutputStreamWriter osw = new OutputStreamWriter(sos);
        		BufferedWriter bw = new BufferedWriter(osw);
        		
        		String haslo = br.readLine();
        		System.out.println(haslo);
        		String kodKraju = br.readLine();
        		System.out.println(kodKraju);
        		int port = Integer.parseInt(br.readLine());
        		System.out.println(port);
			}
		} catch (IOException e)
		{
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
	}
}
